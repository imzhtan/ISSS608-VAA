[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\nName: Tan Zhi Hao\nCourse: ISSS608-Visual Analytics and Applications-G1\nTerm: Jan-Apr 2023"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed in the computer. If they are, then they will be launched into R.\n\npacman::p_load(tidyverse)\n\n\n\n\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html",
    "href": "Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html",
    "title": "Hands-on Exercise 4",
    "section": "",
    "text": "pacman::p_load(ggstatsplot, tidyverse, tidyverse,plotly, crosstalk, DT, ggdist, gganimate, gifski, gapminder, FunnelPlotR, plotly, knitr)\n\n\nexam <- read_csv(\"data/Exam_data.csv\")\n\n\nset.seed(1234)\n\ngghistostats(\n  data = exam,\n  x = ENGLISH,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"English score\"\n)\n\n\n\n\n\nggbetweenstats(\n  data = exam,\n  x = GENDER,\n  y = MATHS,\n  type = \"np\",\n  messages = FALSE\n)\n\n\n\n\n\nggbetweenstats(\n  data = exam,\n  x = RACE,\n  y = ENGLISH,\n  type = \"p\",\n  mean.ci = TRUE,\n  pairwise.comparisons = TRUE,\n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\nggscatterstats(\n  data = exam,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = FALSE\n)\n\n\n\n\n\nexam1 <- exam %>%\n  mutate(MATHS_bins = \n           cut(MATHS,\n               breaks = c(0,60,75,85,100))\n         )\n\n\nggbarstats(exam1,\n           x = MATHS_bins,\n           y = GENDER)\n\n\n\n\n\npacman::p_load(readxl, performance, parameters, see)\n\n\ncar_resale <- read_xls(\"data/ToyotaCorolla.xls\", \n                       \"data\")\ncar_resale\n\n# A tibble: 1,436 × 38\n      Id Model       Price Age_0…¹ Mfg_M…² Mfg_Y…³     KM Quart…⁴ Weight Guara…⁵\n   <dbl> <chr>       <dbl>   <dbl>   <dbl>   <dbl>  <dbl>   <dbl>  <dbl>   <dbl>\n 1    81 TOYOTA Cor… 18950      25       8    2002  20019     100   1180       3\n 2     1 TOYOTA Cor… 13500      23      10    2002  46986     210   1165       3\n 3     2 TOYOTA Cor… 13750      23      10    2002  72937     210   1165       3\n 4     3  TOYOTA Co… 13950      24       9    2002  41711     210   1165       3\n 5     4 TOYOTA Cor… 14950      26       7    2002  48000     210   1165       3\n 6     5 TOYOTA Cor… 13750      30       3    2002  38500     210   1170       3\n 7     6 TOYOTA Cor… 12950      32       1    2002  61000     210   1170       3\n 8     7  TOYOTA Co… 16900      27       6    2002  94612     210   1245       3\n 9     8 TOYOTA Cor… 18600      30       3    2002  75889     210   1245       3\n10    44 TOYOTA Cor… 16950      27       6    2002 110404     234   1255       3\n# … with 1,426 more rows, 28 more variables: HP_Bin <chr>, CC_bin <chr>,\n#   Doors <dbl>, Gears <dbl>, Cylinders <dbl>, Fuel_Type <chr>, Color <chr>,\n#   Met_Color <dbl>, Automatic <dbl>, Mfr_Guarantee <dbl>,\n#   BOVAG_Guarantee <dbl>, ABS <dbl>, Airbag_1 <dbl>, Airbag_2 <dbl>,\n#   Airco <dbl>, Automatic_airco <dbl>, Boardcomputer <dbl>, CD_Player <dbl>,\n#   Central_Lock <dbl>, Powered_Windows <dbl>, Power_Steering <dbl>,\n#   Radio <dbl>, Mistlamps <dbl>, Sport_Model <dbl>, Backseat_Divider <dbl>, …\n\n\n\nmodel <- lm(Price ~ Age_08_04 + Mfg_Year + KM +\n              Weight + Guarantee_Period, data = car_resale)\n\nmodel\n\n\nCall:\nlm(formula = Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04          Mfg_Year                KM  \n      -2.637e+06        -1.409e+01         1.315e+03        -2.323e-02  \n          Weight  Guarantee_Period  \n       1.903e+01         2.770e+01  \n\n\n\ncheck_collinearity(model)\n\n# Check for Multicollinearity\n\nLow Correlation\n\n             Term   VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n Guarantee_Period  1.04   [1.01, 1.17]         1.02      0.97     [0.86, 0.99]\n        Age_08_04 31.07 [28.08, 34.38]         5.57      0.03     [0.03, 0.04]\n         Mfg_Year 31.16 [28.16, 34.48]         5.58      0.03     [0.03, 0.04]\n\nHigh Correlation\n\n   Term  VIF   VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n     KM 1.46 [1.37, 1.57]         1.21      0.68     [0.64, 0.73]\n Weight 1.41 [1.32, 1.51]         1.19      0.71     [0.66, 0.76]\n\n\n\ncheck_c <- check_collinearity(model)\nplot(check_c)\n\n\n\n\n\nmodel1 <- lm(Price ~ Age_08_04 + KM + \n               Weight + Guarantee_Period, data = car_resale)\n\n\ncheck_n <- check_normality(model1)\n\n\nplot(check_n)\n\n\n\n\n\ncheck_h <- check_heteroscedasticity(model1)\n\n\nplot(check_h)\n\n\n\n\n\ncheck_model(model1)\n\n\n\n\n\nplot(parameters(model1))\n\n\n\n\n\nggcoefstats(model1,\n            output = \"plot\")\n\n\n\n\n\nexam <- read_csv(\"data/Exam_data.csv\")\n\n\nmy_sum <- exam %>%\n  group_by(RACE) %>%\n  summarise(\n    n=n(),\n    mean=mean(MATHS),\n    sd=sd(MATHS),\n    lci = t.test(MATHS, conf.level = 0.95)$conf.int[1],\n    uci = t.test(MATHS, conf.level = 0.95)$conf.int[2]\n  ) %>%\n  mutate(se=sd/sqrt(n-1))\n\n\nknitr::kable(head(my_sum), format = 'html')\n\n\n\n \n  \n    RACE \n    n \n    mean \n    sd \n    lci \n    uci \n    se \n  \n \n\n  \n    Chinese \n    193 \n    76.50777 \n    15.69040 \n    74.28011 \n    78.73544 \n    1.132357 \n  \n  \n    Indian \n    12 \n    60.66667 \n    23.35237 \n    45.82928 \n    75.50406 \n    7.041005 \n  \n  \n    Malay \n    108 \n    57.44444 \n    21.13478 \n    53.41288 \n    61.47601 \n    2.043177 \n  \n  \n    Others \n    9 \n    69.66667 \n    10.72381 \n    61.42362 \n    77.90971 \n    3.791438 \n  \n\n\n\n\n\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE,\n        ymin=mean-se,\n        ymax=mean+se),\n    width=0.2,\n    colour='black',\n    alpha=0.9,\n    size=0.5) +\n  geom_point(aes\n            (x=RACE,\n            y=mean),\n            stat = \"identity\",\n            color = \"red\",\n            size = 1.5,\n            alpha = 1) +\n  ggtitle(\"Standard error of mean maths score by race\")\n\n\n\n\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE,\n        ymin=lci,\n        ymax=uci),\n    width=0.2,\n    colour='black',\n    alpha=0.9,\n    size=0.5) +\n  geom_point(aes\n            (x=RACE,\n            y=mean),\n            stat = \"identity\",\n            color = \"red\",\n            size = 1.5,\n            alpha = 1) +\n  ggtitle(\"95% confidence interval of mean maths score by race\")\n\n\n\n\n\nexam %>%\n  ggplot(aes(x = RACE,\n             y = MATHS)) +\n  stat_pointinterval() +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\", subtitle = \"Mean Point + Multuple-interval plot\"\n  )\n\n\n\n\n\nexam %>%\n  ggplot(aes(x = RACE, y=MATHS)) +\n  stat_pointinterval(.width = 0.95,\n                     .point = median,\n                     .interval = qi) +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\", subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\nexam %>%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval(\n    show.legend = FALSE) +   \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\nexam %>%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_gradientinterval(   \n    fill = \"skyblue\",      \n    show.legend = TRUE     \n  ) +                        \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Gradient + interval plot\")\n\n\n\n\n\ndevtools::install_github(\"wilkelab/ungeviz\")\n\n\nlibrary(ungeviz)\n\n\nggplot(data = exam, \n       (aes(x = factor(RACE), y = MATHS))) +\n  geom_point(position = position_jitter(\n    height = 0.3, width = 0.05), \n    size = 0.4, color = \"#0072B2\", alpha = 1/2) +\n  geom_hpline(data = sampler(25, group = RACE), height = 0.6, color = \"#D55E00\") +\n  theme_bw() + \n  # `.draw` is a generated column indicating the sample draw\n  transition_states(.draw, 1, 3)\n\n\n\n\n\nggplot(data = exam, \n       (aes(x = factor(RACE), \n            y = MATHS))) +\n  geom_point(position = position_jitter(\n    height = 0.3, \n    width = 0.05), \n    size = 0.4, \n    color = \"#0072B2\", \n    alpha = 1/2) +\n  geom_hpline(data = sampler(25, \n                             group = RACE), \n              height = 0.6, \n              color = \"#D55E00\") +\n  theme_bw() + \n  transition_states(.draw, 1, 3)\n\n\n\n\n\ncovid19 <- read_csv(\"data/COVID-19_DKI_Jakarta.csv\") %>%\n  mutate_if(is.character, as.factor)\n\n\nfunnel_plot(\n  numerator = covid19$Positive,\n  denominator = covid19$Death,\n  group = covid19$`Sub-district`\n)\n\n\n\n\nA funnel plot object with 267 points of which 0 are outliers. \nPlot is adjusted for overdispersion. \n\n\n\nfunnel_plot(\n  numerator = covid19$Death,\n  denominator = covid19$Positive,\n  group = covid19$`Sub-district`,\n  data_type = \"PR\",\n  xrange = c(0, 6500),\n  yrange = c(0, 0.05)\n)\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion. \n\n\n\nfunnel_plot(\n  numerator = covid19$Death,\n  denominator = covid19$Positive,\n  group = covid19$`Sub-district`,\n  data_type = \"PR\",   \n  xrange = c(0, 6500),  \n  yrange = c(0, 0.05),\n  label = NA,\n  title = \"Cumulative COVID-19 Fatality Rate by Cumulative Total Number of COVID-19 Positive Cases\", #<<           \n  x_label = \"Cumulative COVID-19 Positive Cases\", #<<\n  y_label = \"Cumulative Fatality Rate\"  #<<\n)\n\n\n\n\nA funnel plot object with 267 points of which 7 are outliers. \nPlot is adjusted for overdispersion. \n\n\n\ndf <-  covid19 %>%\n  mutate(rate = Death / Positive) %>%\n  mutate(rate.se = sqrt((rate*(1-rate)) / (Positive))) %>%\n  filter(rate > 0)\n\n\nfit.mean <- weighted.mean(df$rate, 1/df$rate.se^2)\n\n\nnumber.seq <- seq(1, max(df$Positive), 1)\nnumber.ll95 <- fit.mean - 1.96 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ul95 <- fit.mean + 1.96 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ll999 <- fit.mean - 3.29 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \nnumber.ul999 <- fit.mean + 3.29 * sqrt((fit.mean*(1-fit.mean)) / (number.seq)) \ndfCI <- data.frame(number.ll95, number.ul95, number.ll999, number.ul999, number.seq, fit.mean)\n\n\np <- ggplot(df, aes(x = Positive, y = rate)) +\n  geom_point(aes(label=`Sub-district`), \n             alpha=0.4) +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_hline(data = dfCI, \n             aes(yintercept = fit.mean), \n             size = 0.4, \n             colour = \"grey40\") +\n  coord_cartesian(ylim=c(0,0.05)) +\n  annotate(\"text\", x = 1, y = -0.13, label = \"95%\", size = 3, colour = \"grey40\") + \n  annotate(\"text\", x = 4.5, y = -0.18, label = \"99%\", size = 3, colour = \"grey40\") + \n  ggtitle(\"Cumulative Fatality Rate by Cumulative Number of COVID-19 Cases\") +\n  xlab(\"Cumulative Number of COVID-19 Cases\") + \n  ylab(\"Cumulative Fatality Rate\") +\n  theme_light() +\n  theme(plot.title = element_text(size=12),\n        legend.position = c(0.91,0.85), \n        legend.title = element_text(size=7),\n        legend.text = element_text(size=7),\n        legend.background = element_rect(colour = \"grey60\", linetype = \"dotted\"),\n        legend.key.height = unit(0.3, \"cm\"))\np\n\n\n\n\n\nfp_ggplotly <- ggplotly(p,\n  tooltip = c(\"label\", \n              \"x\", \n              \"y\"))\nfp_ggplotly"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html",
    "title": "Hands-on Exercise 05",
    "section": "",
    "text": "pacman::p_load(corrplot, tidyverse, ggstatsplot, ggtern, plotly, seriation, dendextend, heatmaply, GGally, parallelPlot)\n\n\nCorrelogram\n\nwine <- read_csv(\"data/wine_quality.csv\")\n\n\npairs(wine[,1:11])\n\n\n\n\n\npairs(wine[,2:12])\n\n\n\n\n\npairs(wine[,2:12], upper.panel = NULL)\n\n\n\n\n\npairs(wine[,2:12], lower.panel = NULL)\n\n\n\n\n\npanel.cor <- function(x, y, digits=2, prefix=\"\", cex.cor, ...) {\nusr <- par(\"usr\")\non.exit(par(usr))\npar(usr = c(0, 1, 0, 1))\nr <- abs(cor(x, y, use=\"complete.obs\"))\ntxt <- format(c(r, 0.123456789), digits=digits)[1]\ntxt <- paste(prefix, txt, sep=\"\")\nif(missing(cex.cor)) cex.cor <- 0.8/strwidth(txt)\ntext(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n}\n\npairs(wine[,2:12], \n      upper.panel = panel.cor)\n\n\n\n\n\n##| fig-width: 7\n##| fig-height: 7\n\n#ggstatsplot::ggcorrmat(\n#  data = wine, \n#  cor.vars = 1:11,\n#  ggcorrplot.args = list(outline.color = \"black\", \n#                         hc.order = TRUE,\n#                         tl.cex = 10,\n#                         lab_size = 3),\n#  title    = \"Correlogram for wine dataset\",\n#  subtitle = \"Four pairs are no significant at p < 0.05\"\n#)\n\n\nwine.cor <- cor(wine[, 1:11])\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\nTernary\n\npop_data <- read_csv(\"data/respopagsex2000to2018_tidy.csv\") \n\n\nagpop_mutated <- pop_data %>%\n  mutate(`Year` = as.character(Year))%>%\n  spread(AG, Population) %>%\n  mutate(YOUNG = rowSums(.[4:8]))%>%\n  mutate(ACTIVE = rowSums(.[9:16]))  %>%\n  mutate(OLD = rowSums(.[17:21])) %>%\n  mutate(TOTAL = rowSums(.[22:24])) %>%\n  filter(Year == 2018)%>%\n  filter(TOTAL > 0)\n\n\nggtern(data=agpop_mutated,aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point()\n\n\n\n\n\nggtern(data=agpop_mutated, aes(x=YOUNG,y=ACTIVE, z=OLD)) +\n  geom_point() +\n  labs(title=\"Population structure, 2015\") +\n  theme_rgbw()\n\n\n\n\n\n\nHeatmap\n\nwh <- read_csv(\"data/WHData-2018.csv\")\n\n\nrow.names(wh) <- wh$Country\n\n\nwh1 <- dplyr::select(wh, c(3, 7:12))\nwh_matrix <- data.matrix(wh)\n\n\nwh_heatmap <- heatmap(wh_matrix,\n                      Rowv=NA, Colv=NA)\n\n\n\n\n\nwh_heatmap <- heatmap(wh_matrix)\n\n\n\n\n\nwh_heatmap <- heatmap(wh_matrix,\n                      scale=\"column\",\n                      cexRow = 0.6, \n                      cexCol = 0.8,\n                      margins = c(10, 4))\n\n\n\n\n\nheatmaply(mtcars)\n\n\n\n\n\n\nheatmaply(wh_matrix[, -c(1, 2, 4, 5)])\n\n\n\n\n\n\nheatmaply(wh_matrix[, -c(1, 2, 4, 5)],\n          scale = \"column\")\n\n\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]))\n\n\n\n\n\n\nheatmaply(percentize(wh_matrix[, -c(1, 2, 4, 5)]))\n\n\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          dist_method = \"euclidean\",\n          hclust_method = \"ward.D\")\n\n\n\n\n\n\nheatmaply(normalize(wh_matrix[, -c(1, 2, 4, 5)]),\n          Colv=NA,\n          seriate = \"none\",\n          colors = Blues,\n          k_row = 5,\n          margins = c(NA,200,60,NA),\n          fontsize_row = 4,\n          fontsize_col = 5,\n          main=\"World Happiness Score and Variables by Country, 2018 \\nDataTransformation using Normalise Method\",\n          xlab = \"World Happiness Indicators\",\n          ylab = \"World Countries\"\n          )\n\n\n\n\n\n\n\nParallel Coordinates Plots\n\nwh <- read_csv(\"data/WHData-2018.csv\")\n\n\nggparcoord(data = wh, \n           columns = c(7:12))\n\n\n\n\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Parallel Coordinates Plot of World Happines Variables\")\n\n\n\n\n\nggparcoord(data = wh, \n           columns = c(7:12), \n           groupColumn = 2,\n           scale = \"uniminmax\",\n           alphaLines = 0.2,\n           boxplot = TRUE, \n           title = \"Multiple Parallel Coordinates Plots of World Happines Variables by Region\") +\n  facet_wrap(~ Region)\n\n\n\n\n\nhistoVisibility <- rep(TRUE, ncol(wh))\nparallelPlot(wh,\n             rotateTitle = TRUE,\n             histoVisibility = histoVisibility)"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex03/In-class_Ex03.html",
    "href": "In-class_Ex/In-class_Ex03/In-class_Ex03.html",
    "title": "In-class Exercise 3",
    "section": "",
    "text": "Installing and loading R packages\nTwo packages will be installed and loaded. They are: tidyverse, ggiraph.\n\npacman::p_load(ggiraph, tidyverse)\n\nImporting data\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\n\nggplot(data = exam_data,\n       aes(x = MATHS)) +\n  geom_dotplot(dotsize = 0.5)\n\n\n\n\n\np <- ggplot(data=exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(\n    aes(tooltip = ID),\n    stackgroups = TRUE, \n    binwidth = 1, \n    method = \"histodot\") +\n  scale_y_continuous(NULL, \n                     breaks = NULL)\ngirafe(\n  ggobj = p,\n  width_svg = 6,\n  height_svg = 6*0.618\n)"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex04/In-class_Ex04.html",
    "href": "In-class_Ex/In-class_Ex04/In-class_Ex04.html",
    "title": "In-class Exercise 4",
    "section": "",
    "text": "pacman::p_load(plotly, DT, patchwork, ggstatsplot, tidyverse, readxl, performance, parameters, see)\n\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\n\nplot_ly(data = exam_data,\n        x = ~ENGLISH,\n        y = ~MATHS,\n        color = ~RACE)\n\n\n\n\n\n\np <- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(dotsize = 1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\nggplotly(p)\n\n\n\n\n\n\nggbetweenstats(\n  data = exam_data,\n  x = GENDER,\n  y = MATHS,\n  type = \"p\",\n  messages = FALSE\n)\n\n\n\n\n\nggscatterstats(\n  data = exam_data,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = TRUE,\n  )\n\n\n\n\n\ncar_resale <- read_xls(\"data/ToyotaCorolla.xls\", \n                       \"data\")\ncar_resale\n\n# A tibble: 1,436 × 38\n      Id Model       Price Age_0…¹ Mfg_M…² Mfg_Y…³     KM Quart…⁴ Weight Guara…⁵\n   <dbl> <chr>       <dbl>   <dbl>   <dbl>   <dbl>  <dbl>   <dbl>  <dbl>   <dbl>\n 1    81 TOYOTA Cor… 18950      25       8    2002  20019     100   1180       3\n 2     1 TOYOTA Cor… 13500      23      10    2002  46986     210   1165       3\n 3     2 TOYOTA Cor… 13750      23      10    2002  72937     210   1165       3\n 4     3  TOYOTA Co… 13950      24       9    2002  41711     210   1165       3\n 5     4 TOYOTA Cor… 14950      26       7    2002  48000     210   1165       3\n 6     5 TOYOTA Cor… 13750      30       3    2002  38500     210   1170       3\n 7     6 TOYOTA Cor… 12950      32       1    2002  61000     210   1170       3\n 8     7  TOYOTA Co… 16900      27       6    2002  94612     210   1245       3\n 9     8 TOYOTA Cor… 18600      30       3    2002  75889     210   1245       3\n10    44 TOYOTA Cor… 16950      27       6    2002 110404     234   1255       3\n# … with 1,426 more rows, 28 more variables: HP_Bin <chr>, CC_bin <chr>,\n#   Doors <dbl>, Gears <dbl>, Cylinders <dbl>, Fuel_Type <chr>, Color <chr>,\n#   Met_Color <dbl>, Automatic <dbl>, Mfr_Guarantee <dbl>,\n#   BOVAG_Guarantee <dbl>, ABS <dbl>, Airbag_1 <dbl>, Airbag_2 <dbl>,\n#   Airco <dbl>, Automatic_airco <dbl>, Boardcomputer <dbl>, CD_Player <dbl>,\n#   Central_Lock <dbl>, Powered_Windows <dbl>, Power_Steering <dbl>,\n#   Radio <dbl>, Mistlamps <dbl>, Sport_Model <dbl>, Backseat_Divider <dbl>, …\n\n\n\nmodel <- lm(Price ~ Age_08_04 + Mfg_Year + KM + \n              Weight + Guarantee_Period, data = car_resale)\nmodel\n\n\nCall:\nlm(formula = Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04          Mfg_Year                KM  \n      -2.637e+06        -1.409e+01         1.315e+03        -2.323e-02  \n          Weight  Guarantee_Period  \n       1.903e+01         2.770e+01  \n\n\n\ncheck_collinearity(model)\n\n# Check for Multicollinearity\n\nLow Correlation\n\n             Term   VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n Guarantee_Period  1.04   [1.01, 1.17]         1.02      0.97     [0.86, 0.99]\n        Age_08_04 31.07 [28.08, 34.38]         5.57      0.03     [0.03, 0.04]\n         Mfg_Year 31.16 [28.16, 34.48]         5.58      0.03     [0.03, 0.04]\n\nHigh Correlation\n\n   Term  VIF   VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n     KM 1.46 [1.37, 1.57]         1.21      0.68     [0.64, 0.73]\n Weight 1.41 [1.32, 1.51]         1.19      0.71     [0.66, 0.76]\n\n\n\ncheck_c <- check_collinearity(model)\nplot(check_c)\n\n\n\n\n\nmodel1 <- lm(Price ~ Age_08_04 + KM + \n              Weight + Guarantee_Period, data = car_resale)\n\n\ncheck_n <- check_normality(model1)\n\n\nplot(check_n)\n\n\n\n\n\ncheck_h <- check_heteroscedasticity(model1)\n\n\nplot(check_h)\n\n\n\n\n\ncheck_model(model1)\n\n\n\n\n\nggcoefstats(model1, \n            output = \"plot\")\n\n\n\n\n\nmy_sum <- exam_data %>%\n  group_by(RACE) %>%\n  summarise(\n    n=n(),\n    mean=mean(MATHS),\n    sd=sd(MATHS)\n    ) %>%\n  mutate(se=sd/sqrt(n-1))\n\n\nknitr::kable(head(my_sum), format = 'html')\n\n\n\n \n  \n    RACE \n    n \n    mean \n    sd \n    se \n  \n \n\n  \n    Chinese \n    193 \n    76.50777 \n    15.69040 \n    1.132357 \n  \n  \n    Indian \n    12 \n    60.66667 \n    23.35237 \n    7.041005 \n  \n  \n    Malay \n    108 \n    57.44444 \n    21.13478 \n    2.043177 \n  \n  \n    Others \n    9 \n    69.66667 \n    10.72381 \n    3.791438 \n  \n\n\n\n\n\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    size=0.5) +\n  geom_point(aes\n           (x=RACE, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  ggtitle(\"Standard error of mean \n          maths score by rac\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608-VAA",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications. In this website, you will find my coursework prepared for this course."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "title": "Take-home Exercise 1",
    "section": "",
    "text": "1. Introduction\nIn this exercise, I created a 3x3 trellis view dashboard of the Age-Sex pyramid of Singapore’s resident population for 9 of the 55 planning areas in Singapore for 2022. The data is a CSV file extracted from Singstat website named ‘respopagesextod2022’.\n\n\n\nFigure 1: A snapshot of the dataset used\n\n\nI created a multi-select filter card for planning area so that we can choose whichever 9 planning areas we want to visualize but for the analysis I chose 9 specific planning areas as described in Section 3.\n\n\n2. Step-by-step procedure\n\n\n\n\n\n\n\n\nNo.\nStep\nScreenshot\n\n\n\n\n1\nLoad the excel file into Tableau. Drag ‘respopagesextod2022’ worksheet into the main pane under Data Source. Rename the variables accordingly (e.g. from AG to ‘Age Group’).\nNote: Not much pre-cleaning of the data is necessary for this exercise, as the aggregations (e.g. sum of population count by gender, age group, planning area) will automatically be done by Tableau when the graphs are created. The default data types will also not impact the final visualization (e.g. year is not used).\n\n\n\n2\nCreate a new sheet. We start by creating just 1 Age-Sex pyramid for the whole resident population first.\nClick on the down arrow as shown in red circle in the the screenshot and create calculated fields ‘CountFemales’ and ‘CountMales’ using the formula in the screenshot.\n\n\n\n\n3\nDrag ‘Age Group’ into the Rows field and ‘CountMales’ and ‘CountFemales’ into the Columns field.\n\n\n\n4\nRight click on ‘CountMales’ on the horizontal axis and click ‘Edit Axis’. Select ‘Reversed’ under Scale.\n\n\n\n5\nTo filter only 9 planning areas, drag ‘Planning Areas’ to the Filters box. Randomly select 9 planning areas first.\n\n\n\n6\nClick on the arrow in the ‘Planning areas’ pill and select ‘Show Filter’ to display the filter card so that you can select any planning areas you wish to visualize later on.\n\n\n\n7\nUnder Marks box -> ‘Sum(CountFemales)’, click on ‘Color’ and select the desired color to differentiate the sexes by color.\n\n\n\n8\nNext, we create the Trellis View. Create a new calculated field, ‘Index’ using the formula shown in the screenshot.\n\n\n\n9\nCreate a new parameter called ‘# of Columns’, choose Data Type ‘Integer and input ’3’ under Current Value. This is because we want to have a 3 x 3 Trellis View.\n\n\n\n10\nCreate 2 new calculated fields, ‘Rows’ and ‘Columns’ using the formulas shown in the screenshot.\nAfter creating these new variables, click on the down arrow when hovering over them on the left panel and convert to ‘discrete’.\n\n\n\n11\nDrag ‘Rows’ into the Rows field and ‘Columns’ into the Columns field. Drag ‘Planning Area’ into the Label box under Marks -> All.\n\n\n\n12\nClick on the down arrow in the ‘Columns’ pill in the Columns field and select Compute Using -> Planning Area.\nDo the same for the ‘Rows’ pill in the Rows field.\n\n\n\n13\nNext, we move on to labeling the planning areas.\nFirst, un-check ‘Show mark labels’ by clicking on Label under Marks -> All.\nNote: I’m doing it in a slightly different way, so that the Planning Area can be in a column on its own. However, I’ve also prepared the standard version where the label appears on the top right (simply allow label overlap, always show label for one of the bars and click and move it around). The instructions below are for the non-standard way.\n\n\n\n14\nCreate a new variable directly within the Columns field by double-clicking on an empty space within it. Type in ‘AVG(0)’. Drag the newly created pill to the left of the SUM(CountMales) pill.\n\n\n\n15\nUnder Marks -> AGG(AVG(0)), change the type to ‘Line’ and the Opacity to 0%.\n\n\n\n16\nDrag ‘Planning Area’ to Label under Marks -> AGG(AVG(0)). Select ‘Line Ends’ under ‘Marks to label’ and un-check ‘Label end of line’.\n\n\n\n17\nLastly, improve the aesthetics.\nHide the headers on the top and left by right-clicking and de-selecting ‘Show Header’.\n\n\n\n18\nChange the order of Age Group by Data source order so that youngest Age Group is at the bottom and oldest at the top.\n\n\n\n19\nChange the title of the sheet by clicking on the title field or changing it dynamically in the sheet name.\nChange the labels on the horizontal axis by right-clicking on them.\n\n\n\n20\nAdd or delete information in the tooltip under Marks -> All -> Tooltip.\n\n\n\n21\nCreate a new dashboard ‘Dashboard 1’, drag ‘Age-Sex Pyramid for Selected Planning Areas in Singapore, 2022’ into the pane.\nIn this case, as we only have one visualization in the dashboard, there is no need to add title text or make other changes.\n\n\n\n22\nAdjust the size of charts, dashboard, etc. for better presentation. Extract data if necessary. Click Server -> Tableau Public -> Save to Tableau Public’ for publishing.\nLinks to my Tableau Public visualizations:\n\nPlanning area in a column on its own: Link\nStandard version where planning area is on the top right of each pyramid: Link\n\n\n\n\n\n\n\n3. Write-up on Patterns observed from visualization\nFor the pattern analysis, I selected 9 planning areas (PA) split equally by 3 market segments as defined by the Urban Redevelopment Authority (URA):\n\nCore Central Region (CCR): Bukit Timah, Newton, Novena\nRest of Central Region (RCR): Bishan, Toa Payoh, Queenstown\nOutside Central Region (OCR): Jurong East, Tampines, Yishun\n\n\n\n\nFigure 2: Trellis view of the Age-Sex pyramids for 9 selected planning areas\n\n\n(1) For almost all the PA, there seems to be several horizontal peak and troughs. The age groups between 55 to 69, as well as age groups between 25 to 39 are the peaks while the other age groups are the troughs. This is reflective of the Baby Boomers (around age 59-77) and their children (Millennials around age 27-42), which have relatively more births compared to the other generations.\n(2) In general, more people live in the OCR compared to the RCR which in turn has more people compared to the CCR. This could be reflective of the ratio of residences compared to other infrastructure in the different regions, as well as affordability. We can see that the age-sex pyramids are widest for Tampines and Yishun, and narrowest for Newtown and Novena, while the rest are in between. We note that there are some minor exceptions such as Bishan (RCR), Bukit Timah (CCR) and Jurong East (OCR) being quite similar to each other due to proportion of residences, but this does not cause the overall trend to deviate greatly.\n(3) The Sex distribution seems to be relatively evenly distributed for most age groups (with slightly more females than males) except for those aged 75 and above where the difference is more pronounced. This could be due to higher life expectancy for females compared to males, which are 85.9 and 81.1 respectively for Singapore residents in 2021.\n(4) For PAs in the RCR and OCR, the largest or second largest age group is 30-34. However, the largest age group for PAs in the CCR is 45-49. This could be because residences for PAs in CCR are more expensive compared to other market segments and, generally, those aged 45-49 would have higher income and spending power compared to the younger age groups and be able to afford living in the CCR.\n(5) There are signs of a shrinking population, with the age groups within 0 to 19 smaller than the earlier generations, with the exception of those above 70. The top and bottom ends of the pyramid are the narrowest. It is understandable that there would be fewer people in the older age groups as they pass on. However, the pattern also shows that there are fewer young people and we could gradually see an aging population as the baby boomers move into their senior years. Unless the trends are reversed, the Millennials (children of the Baby Boomers) could be the last sizeable age group."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html",
    "title": "Take-home Exercise 02",
    "section": "",
    "text": "This exercise is based on a take-home exercise 1 submission prepared by a classmate. The peer submission will be critiqued in terms of clarity and aesthetics, and the original design will be remade using the data visualization principles and best practices learnt in Lessons1 and 2.\nThe dataset used in take-home exercises 1 and 2 is a CSV file extracted from Singstat website named ‘respopagesextod2022’ and processed by RStudio tidyverse family of packages and visualized by ggplot2 and its extensions."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#install-and-launching-r-packages",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#install-and-launching-r-packages",
    "title": "Take-home Exercise 02",
    "section": "2.1 Install and launching R packages",
    "text": "2.1 Install and launching R packages\nThe code chunk below uses p_load() of pacman package to check if tidyverse packages are installed in the computer. If they are, then they will be launched into R.\n\n\nCode\npacman::p_load(tidyverse)\n\nlibrary(plotly)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#importing-the-data",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#importing-the-data",
    "title": "Take-home Exercise 02",
    "section": "2.2 Importing the data",
    "text": "2.2 Importing the data\nThe code chunk below imports respopagesextod2022.csv from the data folder into R by using read_csv() of readr and save it as an tibble data frame called pop_data.\n\n\nCode\npop_data <- read_csv(\"data/respopagesextod2022.csv\")\nhead(pop_data)\n\n\n# A tibble: 6 × 7\n  PA         SZ                     AG     Sex   TOD                   Pop  Time\n  <chr>      <chr>                  <chr>  <chr> <chr>               <dbl> <dbl>\n1 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 1- and 2-Room …     0  2022\n2 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 3-Room Flats       10  2022\n3 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 4-Room Flats       10  2022\n4 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HDB 5-Room and Exe…    30  2022\n5 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males HUDC Flats (exclud…     0  2022\n6 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males Condominiums and O…    50  2022"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#ordering-age-group",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#ordering-age-group",
    "title": "Take-home Exercise 02",
    "section": "2.3 Ordering Age Group",
    "text": "2.3 Ordering Age Group\nThe code chunk below orders the Age groups sequentially, by planning area, age group and sex.\n\n\nCode\npop_data$AG <- gsub(\"_\", \" \", \n                    pop_data$AG, \n                    fixed = TRUE)\n\nag_order <- c(\"0 to 4\", \"5 to 9\", \"10 to 14\", \"15 to 19\", \"20 to 24\", \"25 to 29\", \"30 to 34\", \"35 to 39\", \"40 to 44\", \"45 to 49\", \"50 to 54\", \"55 to 59\", \"60 to 64\", \"65 to 69\", \"70 to 74\", \"75 to 79\", \"80 to 84\", \"85 to89\", \"90 and over\")\n\npop_ordered <- pop_data %>%\n  group_by(`PA`, `AG`,`Sex`) %>%\n  summarise(`Count` = sum(`Pop`)) %>%\n  mutate(AG = factor(AG, levels = ag_order)) %>%\n  arrange(AG) %>%\n  ungroup()"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#filtering-planning-areas",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#filtering-planning-areas",
    "title": "Take-home Exercise 02",
    "section": "2.4 Filtering Planning Areas",
    "text": "2.4 Filtering Planning Areas\nIt looks like ZeXeong selected the planning areas based on the top 9 population sizes. The code chunk below filters these 9 planning areas.\n\n\nCode\nt9_pa <- pop_data %>%\n  group_by(`PA`) %>%\n  summarise(`Count` = sum(`Pop`)) %>%\n  ungroup()\n\nt9 <- arrange(t9_pa, desc(t9_pa$Count)) %>%\n  slice(1:9) %>%\n  select(`PA`)\n\nt9_only1 <- pop_ordered %>% \n  filter(pop_ordered$PA %in% t9$PA)\n\nt9_only = na.omit(t9_only1)\n\nhead(t9_only)\n\n\n# A tibble: 6 × 4\n  PA            AG     Sex     Count\n  <chr>         <fct>  <chr>   <dbl>\n1 Bedok         0 to 4 Females  4970\n2 Bedok         0 to 4 Males    5090\n3 Choa Chu Kang 0 to 4 Females  4080\n4 Choa Chu Kang 0 to 4 Males    4260\n5 Hougang       0 to 4 Females  4430\n6 Hougang       0 to 4 Males    4520"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#critique-of-grid-facet-to-display-population-pyramids-in-a-row",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#critique-of-grid-facet-to-display-population-pyramids-in-a-row",
    "title": "Take-home Exercise 02",
    "section": "3.1 Critique of Grid Facet to Display Population Pyramids in a Row",
    "text": "3.1 Critique of Grid Facet to Display Population Pyramids in a Row\n\n\n\nFigure 1: Original design by classmate row Trellis\n\n\n\n3.1.1 Critique\n\n3.1.1.1 Clarity\nWhat works:\n(A) As there are only 9 planning areas, this grid facet to display the pyramids in a row works as we can clearly see the side by side comparison of each planning area.\n(B)The planning area labels are clearly stated at the top of each planning area.\nWhat doesn’t work and why:\n(A) Title\n\nThe title does not provide sufficient detail about the data being visualized. It simply states ‘Compare the Feasibility for Visual Analysis by Two Trellis Layouts of 9 Population Pyramids’. It does not tell us the data is for which country’s population and for which year. A more appropriate title will be ‘Age-Sex Pyramid in Singapore, 2022’\n(B) Axes\nThe x-axis does not have a label telling us what is the information being shown. It is also not shown at the bottom of the dashboard. The legend at the bottom shows us which color represents which sex but it is insufficient to tell us is this a count or proportion, nor does it tell us the units. In general, if the word ‘count’ is used (e.g. Male Count), this tells us it is a number.\n(C) Grid\nWith an x-axis values, it would also be good to include vertical grid lines as the x-axis values are in continuous numbers.\n\n\n3.1.1.2 Aesthetics\nWhat doesn’t work and why:\n(A) Colour\n\nThe colors used to represent Male and Female are not intuitive. By convention, Blue is used to represent Male and Red/Pink is used to represent Female. Of course, this is only based on convention and not a hard rule, but for people who are used to the conventional colors, at first glance, we may think that the right side of the pyramids are representing Males, but it is actually representing Females.\nThe horizontal alternating color shading (i.e. grey-white-grey-white) in the background does not seem to be necessary as the age groups are grouped as ‘discrete horizontal bars’ and not ‘continuous’. The alternating shading also seem to be missing for the left side of each pyramid, which may be distracting.\n(B) Data labels\nThe labels for the count being displayed overlapping the bars can make the charts very messy. It may also be hard to read the numbers for the top of the pyramids where the bars are short. Some solutions are to either display the numbers outside the bar (non-overlapping), change the numbers to thousands using ‘k’, and the best would be not to display the numbers at all since there is already a tooltip displaying information as you hover over the bars.\n\n\n\n3.1.2 Remake\n\nChanged title to ‘Age-Sex Pyramid in Singapore, 2022’.\nAdded a x-axis label ‘Population Count’ as well as the x-axis values of up to 15k on each side in steps of 5k as well as grid lines for more clarity.\nChanged the colors of the bars to Blue for ‘Males’ and Pink for ‘Females’. Removed alternating background shading.\nRemoved count value label display for each bar.\nIn the tooltip, unnecessary information is removed. When hovering over ‘Females’, only the AG, sex and count for Females are shown and similarly for ‘Males’.\n\n\n\nCode\nAgSxPyr_t9_row <- ggplot(t9_only, aes(x = AG, y = Count, fill = Sex)) +\n  geom_bar(data = subset(t9_only, \n                         Sex == \"Males\"), \n           aes(x = AG, \n               y = -Count, \n               fill = Sex), \n           stat = \"identity\" \n          ) +\n  geom_bar(data = subset(t9_only, \n                         Sex == \"Females\"), \n           aes(x = AG, \n               y = Count, \n               fill = Sex), \n           stat = \"identity\" \n           ) +\n  scale_y_continuous(breaks = seq(-15000, 15000, 5000), \n                     labels = paste0(\n                       as.character(\n                         c(seq(15, 0, -5), \n                           seq(5, 15, 5))),\n                       \"k\")) +\n  coord_flip() +\n  facet_grid(~ PA) +\n  labs (y = \"Population Count\", \n        x = \"Age Group (AG)\", \n        title = 'Age-Sex Pyramid in Singapore, 2022') +\n  theme_bw() +\n  theme(axis.ticks.y = element_blank()) +\n  scale_fill_manual(values = c(\"Males\" = \"lightblue\", \n                               \"Females\" = \"lightpink\")) \n\nggplotly(AgSxPyr_t9_row, \n         session = \"knitr\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#critique-of-wrap-facet-to-display-population-pyramids-3-by-3-matrix",
    "href": "Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html#critique-of-wrap-facet-to-display-population-pyramids-3-by-3-matrix",
    "title": "Take-home Exercise 02",
    "section": "3.2 Critique of Wrap Facet to Display Population Pyramids 3 by 3 Matrix",
    "text": "3.2 Critique of Wrap Facet to Display Population Pyramids 3 by 3 Matrix\n\n\n\nFigure 2: Original design by classmate 3x3 Trellis\n\n\n\n3.2.1 Critique\n\n3.2.1.1 Clarity\nWhat works and doesn’t work in point 3.1.1.1 for the ‘Grid Facet in a row’ all apply to this 3x3 Trellis as well.\n\n\n3.2.1.2 Aesthetics\nWhat works and doesn’t work in point 3.1.1.2 for the ‘Grid Facet in a row’ all apply to this 3x3 Trellis as well.\nIn addition, it would be good to remove unnecessary information to avoid confusion in the tooltip such as the ‘Column along PA’ and ‘Row along PA’. We can also remove ‘Male Population’ when hovering over Female and remove ‘Female Population’ when hovering over ‘Male’\n\n\n\n3.2.2 Remake\n\nChanged title to ‘Age-Sex Pyramid in Singapore, 2022’.\nAdded a x-axis label ‘Population Count’ as well as the x-axis values of up to 15k on each side in steps of 5k as well as grid lines for more clarity.\nChanged the colors of the bars to Blue for ‘Males’ and Pink for ‘Females’. Removed alternating horizontal shading.\nRemoved count value label display for each bar.\nIn the tooltip, unnecessary information is removed. ‘Column along PA’ and ‘Row along PA’ are removed. When hovering over ‘Females’, only the AG, sex and count for Females are shown and similarly for ‘Males’.\nThe labels for Planning Area are now at the middle top of each micro-chart in the Trellis display.\n\nSketch of the remake using Powerpoint:\n\nActual remake using ggplot2, ggplot2 extensions and tidyverse packages:\n\n\nCode\nAgSxPyr_t9_wrap <- ggplot(t9_only, aes(x = AG, y = Count, fill = Sex)) +\n  geom_bar(data = subset(t9_only, \n                         Sex == \"Males\"), \n           aes(x = AG, \n               y = -Count, \n               fill = Sex), \n           stat = \"identity\" \n           ) +\n  geom_bar(data = subset(t9_only, \n                         Sex == \"Females\"), \n           aes(x = AG, \n               y = Count, \n               fill = Sex), \n           stat = \"identity\" \n          ) +\n  scale_y_continuous(breaks = seq(-15000, 15000, 5000), \n                     labels = paste0(\n                       as.character(\n                         c(seq(15, 0, -5), \n                           seq(5, 15, 5))),\n                       \"k\")) +\n  coord_flip() +\n  facet_wrap(~ PA) +\n  labs (y = \"Population Count\", \n        x = \"Age Group (AG)\", \n        title = 'Age-Sex Pyramid in Singapore, 2022') +\n  theme_bw() +\n  theme(axis.ticks.y = element_blank()) +\n  scale_fill_manual(values = c(\"Males\" = \"lightblue\", \n                               \"Females\" = \"lightpink\")) \n\nggplotly(AgSxPyr_t9_wrap, \n         session = \"knitr\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html",
    "title": "Take-home Exercise 03",
    "section": "",
    "text": "In this take-home exercise, I will uncover the salient patterns of the resale prices of public housing property by residential towns and estates in Singapore by using appropriate analytical visualisation techniques learned in Lesson 4: Fundamentals of Visual Analytics. Students are encouraged to apply appropriate interactive techniques to enhance user and data discovery experiences.\nFor the purpose of this study, the focus will be on 3-ROOM, 4-ROOM and 5-ROOM types. You can choose to focus on either one housing type or multiple housing types. The study period will be on 2022.\nResale flat princes based on registration date from Jan-2017 onwards from Data.gov.sg will be used to prepare the analytical visualisation and processed by RStudio tidyverse family of packages and visualized by ggplot2 and its extensions."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#install-and-launching-r-packages",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#install-and-launching-r-packages",
    "title": "Take-home Exercise 03",
    "section": "2.1 Install and launching R packages",
    "text": "2.1 Install and launching R packages\nThe code chunk below uses p_load() of pacman package to check if the various packages used for the visual analysis are installed in the computer. If they are, then they will be launched into R.\n\n\nCode\npacman::p_load(ggstatsplot, tidyverse, readxl, performance, parameters, see, plotly, crosstalk, DT, ggdist, gganimate, gifski, gapminder)\n\nlibrary(plotly)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#importing-the-data",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#importing-the-data",
    "title": "Take-home Exercise 03",
    "section": "2.2 Importing the data",
    "text": "2.2 Importing the data\nThe code chunk below imports resale-flat-prices-based-on-registration-date-from-jan-2017-onwards.csv from the data folder into R by using read_csv() of readr and save it as an tibble data frame called resale_data.\n\n\nCode\nresale_data <- read_csv(\"data/resale-flat-prices-based-on-registration-date-from-jan-2017-onwards.csv\")\n\nhead(resale_data)\n\n\n# A tibble: 6 × 11\n  month   town     flat_…¹ block stree…² store…³ floor…⁴ flat_…⁵ lease…⁶ remai…⁷\n  <chr>   <chr>    <chr>   <chr> <chr>   <chr>     <dbl> <chr>     <dbl> <chr>  \n1 2017-01 ANG MO … 2 ROOM  406   ANG MO… 10 TO …      44 Improv…    1979 61 yea…\n2 2017-01 ANG MO … 3 ROOM  108   ANG MO… 01 TO …      67 New Ge…    1978 60 yea…\n3 2017-01 ANG MO … 3 ROOM  602   ANG MO… 01 TO …      67 New Ge…    1980 62 yea…\n4 2017-01 ANG MO … 3 ROOM  465   ANG MO… 04 TO …      68 New Ge…    1980 62 yea…\n5 2017-01 ANG MO … 3 ROOM  601   ANG MO… 01 TO …      67 New Ge…    1980 62 yea…\n6 2017-01 ANG MO … 3 ROOM  150   ANG MO… 01 TO …      68 New Ge…    1981 63 yea…\n# … with 1 more variable: resale_price <dbl>, and abbreviated variable names\n#   ¹​flat_type, ²​street_name, ³​storey_range, ⁴​floor_area_sqm, ⁵​flat_model,\n#   ⁶​lease_commence_date, ⁷​remaining_lease"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#data-wrangling",
    "href": "Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html#data-wrangling",
    "title": "Take-home Exercise 03",
    "section": "2.3 Data wrangling",
    "text": "2.3 Data wrangling\nThe code chunk below filters for 3, 4 and 5 room flat types and for year 2022.\n\n\nCode\nresale_data_filter <- resale_data %>%\n  separate(month, into = c(\"year\", \"month\"), sep = \"-\") %>%\n  filter(year == \"2022\") %>%\n  filter(flat_type %in% c(\"3 ROOM\", \"4 ROOM\", \"5 ROOM\"))\n\nhead(resale_data_filter)\n\n\n# A tibble: 6 × 12\n  year  month town       flat_type block stree…¹ store…² floor…³ flat_…⁴ lease…⁵\n  <chr> <chr> <chr>      <chr>     <chr> <chr>   <chr>     <dbl> <chr>     <dbl>\n1 2022  01    ANG MO KIO 3 ROOM    320   ANG MO… 07 TO …      73 New Ge…    1977\n2 2022  01    ANG MO KIO 3 ROOM    225   ANG MO… 07 TO …      67 New Ge…    1978\n3 2022  01    ANG MO KIO 3 ROOM    331   ANG MO… 07 TO …      68 New Ge…    1981\n4 2022  01    ANG MO KIO 3 ROOM    534   ANG MO… 07 TO …      82 New Ge…    1980\n5 2022  01    ANG MO KIO 3 ROOM    578   ANG MO… 04 TO …      67 New Ge…    1980\n6 2022  01    ANG MO KIO 3 ROOM    452   ANG MO… 01 TO …      83 New Ge…    1979\n# … with 2 more variables: remaining_lease <chr>, resale_price <dbl>, and\n#   abbreviated variable names ¹​street_name, ²​storey_range, ³​floor_area_sqm,\n#   ⁴​flat_model, ⁵​lease_commence_date\n\n\nThe code chunk below converts the remaining lease from months and years in the character datatype to years in the double datatype.\n\n\nCode\nresale_data1 <- resale_data_filter %>%\nseparate(remaining_lease, into = c(\"years\", \"months\"), sep = \" years \") %>%\n separate(years, into = c(\"years\", \"test1\"), sep = \" \") %>%\n  separate(months, into = c(\"months\", \"test2\"), sep = \" \") %>%\n  transform(years = as.numeric(years)) %>%\n  transform(months = as.numeric(months)) %>%\n  replace(is.na(.), 0) %>%\n  transform(rem_lease_inyears = years + (months / 12))\n  \nresale_data_clean <- subset(resale_data1, select = -c(test1, test2))\n\nhead(resale_data_clean)\n\n\n  year month       town flat_type block       street_name storey_range\n1 2022    01 ANG MO KIO    3 ROOM   320  ANG MO KIO AVE 1     07 TO 09\n2 2022    01 ANG MO KIO    3 ROOM   225  ANG MO KIO AVE 1     07 TO 09\n3 2022    01 ANG MO KIO    3 ROOM   331  ANG MO KIO AVE 1     07 TO 09\n4 2022    01 ANG MO KIO    3 ROOM   534 ANG MO KIO AVE 10     07 TO 09\n5 2022    01 ANG MO KIO    3 ROOM   578 ANG MO KIO AVE 10     04 TO 06\n6 2022    01 ANG MO KIO    3 ROOM   452 ANG MO KIO AVE 10     01 TO 03\n  floor_area_sqm     flat_model lease_commence_date years months resale_price\n1             73 New Generation                1977    54      5       358000\n2             67 New Generation                1978    55      1       355000\n3             68 New Generation                1981    58      0       338000\n4             82 New Generation                1980    57      2       420000\n5             67 New Generation                1980    57      1       328000\n6             83 New Generation                1979    56      7       360000\n  rem_lease_inyears\n1          54.41667\n2          55.08333\n3          58.00000\n4          57.16667\n5          57.08333\n6          56.58333"
  }
]