<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tan Zhi Hao">

<title>ISSS608-VAA - Take-home Exercise 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex04/Take-home_Ex04.html">
 <span class="dropdown-text">Take-home Exercise 4</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1 - Introduction to Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2 - Designing Graphs to Enlighten</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html">
 <span class="dropdown-text">Hands-on Exercise 4 - Fundamentals of Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html">
 <span class="dropdown-text">Hands-on Exercise 5 - Visual Multivariate Analysis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html">
 <span class="dropdown-text">In-class Exercise 3 - Interactivity in Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In-class Exercise 4 - Fundamentals of Visual Analytics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html">
 <span class="dropdown-text">In-class Exercise 5 - Visual Multivariate Analysis</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">1. Introduction</a></li>
  <li><a href="#step-by-step-procedure" id="toc-step-by-step-procedure" class="nav-link" data-scroll-target="#step-by-step-procedure">2. Step-by-step procedure</a></li>
  <li><a href="#write-up-on-patterns-observed-from-visualization" id="toc-write-up-on-patterns-observed-from-visualization" class="nav-link" data-scroll-target="#write-up-on-patterns-observed-from-visualization">3. Write-up on Patterns observed from visualization</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tan Zhi Hao </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>1. Introduction</h1>
<p>In this exercise, I created a 3x3 trellis view dashboard of the Age-Sex pyramid of Singapore’s resident population for 9 of the 55 planning areas in Singapore for 2022. The data is a CSV file extracted from <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">Singstat website</a> named <em>‘respopagesextod2022’.</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image-1433414553.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><em>Figure 1: A snapshot of the dataset used</em></figcaption><p></p>
</figure>
</div>
<p>I created a multi-select filter card for planning area so that we can choose whichever 9 planning areas we want to visualize but for the analysis I chose 9 specific planning areas as described in Section 3.</p>
</section>
<section id="step-by-step-procedure" class="level1">
<h1>2. Step-by-step procedure</h1>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 32%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>No.</th>
<th style="text-align: left;">Step</th>
<th>Screenshot</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td style="text-align: left;"><p>Load the excel file into Tableau. Drag ‘<em>respopagesextod2022</em>’ worksheet into the main pane under Data Source. Rename the variables accordingly (e.g.&nbsp;from AG to ‘Age Group’).</p>
<p><em>Note: Not much pre-cleaning of the data is necessary for this exercise, as the aggregations (e.g.&nbsp;sum of population count by gender, age group, planning area) will automatically be done by Tableau when the graphs are created. The default data types will also not impact the final visualization (e.g.&nbsp;year is not used).</em></p></td>
<td><img src="images/image-1797384571.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>2</td>
<td style="text-align: left;"><p>Create a new sheet. We start by creating just 1 Age-Sex pyramid for the whole resident population first.</p>
<p>Click on the down arrow as shown in red circle in the the screenshot and create calculated fields ‘CountFemales’ and ‘CountMales’ using the formula in the screenshot.</p></td>
<td><p><img src="images/image-1149882038.png" class="img-fluid" width="95"></p>
<p><img src="images/image-786238496.png" class="img-fluid" width="173"><img src="images/image-1228270616.png" class="img-fluid" width="176"></p></td>
</tr>
<tr class="odd">
<td>3</td>
<td style="text-align: left;">Drag ‘Age Group’ into the Rows field and ‘CountMales’ and ‘CountFemales’ into the Columns field.</td>
<td><img src="images/image-1052230578.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>4</td>
<td style="text-align: left;">Right click on ‘CountMales’ on the horizontal axis and click ‘Edit Axis’. Select ‘Reversed’ under Scale.</td>
<td><img src="images/image-576089771.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>5</td>
<td style="text-align: left;">To filter only 9 planning areas, drag ‘Planning Areas’ to the Filters box. Randomly select 9 planning areas first.</td>
<td><img src="images/image-328312277.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>6</td>
<td style="text-align: left;">Click on the arrow in the ‘Planning areas’ pill and select ‘Show Filter’ to display the filter card so that you can select any planning areas you wish to visualize later on.</td>
<td><img src="images/image-305429127.png" class="img-fluid" width="161"><img src="images/image-288257676.png" class="img-fluid" width="93"></td>
</tr>
<tr class="odd">
<td>7</td>
<td style="text-align: left;">Under Marks box -&gt; ‘Sum(CountFemales)’, click on ‘Color’ and select the desired color to differentiate the sexes by color.</td>
<td><img src="images/image-1561715134.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>8</td>
<td style="text-align: left;">Next, we create the Trellis View. Create a new calculated field, ‘Index’ using the formula shown in the screenshot.</td>
<td><img src="images/image-315860669.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>9</td>
<td style="text-align: left;">Create a new parameter called ‘# of Columns’, choose Data Type ‘Integer and input ’3’ under Current Value. This is because we want to have a 3 x 3 Trellis View.</td>
<td><img src="images/image-1149882038.png" class="img-fluid" width="117"><img src="images/image-1784285514.png" class="img-fluid" width="212"></td>
</tr>
<tr class="even">
<td>10</td>
<td style="text-align: left;"><p>Create 2 new calculated fields, ‘Rows’ and ‘Columns’ using the formulas shown in the screenshot.</p>
<p>After creating these new variables, click on the down arrow when hovering over them on the left panel and convert to ‘discrete’.</p></td>
<td><img src="images/image-1702854297.png" class="img-fluid" width="220"><img src="images/image-1761891131.png" class="img-fluid" width="222"></td>
</tr>
<tr class="odd">
<td>11</td>
<td style="text-align: left;">Drag ‘Rows’ into the Rows field and ‘Columns’ into the Columns field. Drag ‘Planning Area’ into the Label box under Marks -&gt; All.</td>
<td><img src="images/image-1227004810.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>12</td>
<td style="text-align: left;"><p>Click on the down arrow in the ‘Columns’ pill in the Columns field and select Compute Using -&gt; Planning Area.</p>
<p>Do the same for the ‘Rows’ pill in the Rows field.</p></td>
<td><img src="images/image-1764637329.png" class="img-fluid" width="296"></td>
</tr>
<tr class="odd">
<td>13</td>
<td style="text-align: left;"><p>Next, we move on to labeling the planning areas.</p>
<p>First, un-check ‘Show mark labels’ by clicking on Label under Marks -&gt; All.</p>
<p><em>Note: I’m doing it in a slightly different way, so that the Planning Area can be in a column on its own. However, I’ve also prepared the standard version where the label appears on the top right (simply allow label overlap, always show label for one of the bars and click and move it around). The instructions below are for the non-standard way.</em></p></td>
<td><img src="images/image-197780823.png" class="img-fluid" width="355"></td>
</tr>
<tr class="even">
<td>14</td>
<td style="text-align: left;">Create a new variable directly within the Columns field by double-clicking on an empty space within it. Type in ‘AVG(0)’. Drag the newly created pill to the left of the SUM(CountMales) pill.</td>
<td><img src="images/image-1158170959.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>15</td>
<td style="text-align: left;">Under Marks -&gt; AGG(AVG(0)), change the type to ‘Line’ and the Opacity to 0%.</td>
<td><img src="images/image-10513308.png" class="img-fluid" width="109"></td>
</tr>
<tr class="even">
<td>16</td>
<td style="text-align: left;">Drag ‘Planning Area’ to Label under Marks -&gt; AGG(AVG(0)). Select ‘Line Ends’ under ‘Marks to label’ and un-check ‘Label end of line’.</td>
<td><img src="images/image-507825079.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>17</td>
<td style="text-align: left;"><p>Lastly, improve the aesthetics.</p>
<p>Hide the headers on the top and left by right-clicking and de-selecting ‘Show Header’.</p></td>
<td><img src="images/image-1938844378.png" class="img-fluid" width="116"></td>
</tr>
<tr class="even">
<td>18</td>
<td style="text-align: left;">Change the order of Age Group by Data source order so that youngest Age Group is at the bottom and oldest at the top.</td>
<td><img src="images/image-1679864339.png" class="img-fluid" width="171"><img src="images/image-949094237.png" class="img-fluid" width="182"></td>
</tr>
<tr class="odd">
<td>19</td>
<td style="text-align: left;"><p>Change the title of the sheet by clicking on the title field or changing it dynamically in the sheet name.</p>
<p>Change the labels on the horizontal axis by right-clicking on them.</p></td>
<td><img src="images/image-327183518.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>20</td>
<td style="text-align: left;">Add or delete information in the tooltip under Marks -&gt; All -&gt; Tooltip.</td>
<td><img src="images/image-312910707.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>21</td>
<td style="text-align: left;"><p>Create a new dashboard ‘Dashboard 1’, drag ‘Age-Sex Pyramid for Selected Planning Areas in Singapore, 2022’ into the pane.</p>
<p>In this case, as we only have one visualization in the dashboard, there is no need to add title text or make other changes.</p></td>
<td><img src="images/image-237145885.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>22</td>
<td style="text-align: left;"><p>Adjust the size of charts, dashboard, etc. for better presentation. Extract data if necessary. Click Server -&gt; Tableau Public -&gt; Save to Tableau Public’ for publishing.</p>
<p>Links to my Tableau Public visualizations:</p>
<ol type="1">
<li>Planning area in a column on its own: <a href="https://public.tableau.com/app/profile/tan.zh4404/viz/Take-home_Ex01_TanZhiHao/Dashboard1">Link</a></li>
<li>Standard version where planning area is on the top right of each pyramid: <a href="https://public.tableau.com/app/profile/tan.zh4404/viz/Take-home_Ex01_TanZhiHao/Age-SexPyramidforSelectedPlanningAreasinSingapore2022V2">Link</a></li>
</ol></td>
<td><img src="images/image-1227294122.png" class="img-fluid"></td>
</tr>
</tbody>
</table>
</section>
<section id="write-up-on-patterns-observed-from-visualization" class="level1">
<h1>3. Write-up on Patterns observed from visualization</h1>
<p>For the pattern analysis, I selected 9 planning areas (PA) split equally by <a href="https://www.propertyguru.com.sg/property-guides/ccr-ocr-rcr-region-singapore-ura-map-21045">3 market segments</a> as defined by the Urban Redevelopment Authority (URA):</p>
<ul>
<li><p>Core Central Region (CCR): Bukit Timah, Newton, Novena</p></li>
<li><p>Rest of Central Region (RCR): Bishan, Toa Payoh, Queenstown</p></li>
<li><p>Outside Central Region (OCR): Jurong East, Tampines, Yishun</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Age-Sex pyramid Trellis.png" class="img-fluid figure-img" width="571"></p>
<p></p><figcaption class="figure-caption"><em>Figure 2: Trellis view of the Age-Sex pyramids for 9 selected planning areas</em></figcaption><p></p>
</figure>
</div>
<p><strong>(1) For almost all the PA, there seems to be several horizontal peak and troughs. The age groups between 55 to 69, as well as age groups between 25 to 39 are the peaks while the other age groups are the troughs.</strong> This is reflective of the Baby Boomers (around age 59-77) and their children (Millennials around age 27-42), which have relatively more births compared to the other generations.</p>
<p><strong>(2) In general, more people live in the OCR compared to the RCR which in turn has more people compared to the CCR.</strong> This could be reflective of the ratio of residences compared to other infrastructure in the different regions, as well as affordability. We can see that the age-sex pyramids are widest for Tampines and Yishun, and narrowest for Newtown and Novena, while the rest are in between. We note that there are some minor exceptions such as Bishan (RCR), Bukit Timah (CCR) and Jurong East (OCR) being quite similar to each other due to proportion of residences, but this does not cause the overall trend to deviate greatly.</p>
<p><strong>(3)</strong> <strong>The Sex distribution seems to be relatively evenly distributed for most age groups (with slightly more females than males) except for those aged 75 and above where the difference is more pronounced.</strong> This could be due to higher life expectancy for females compared to males, which are 85.9 and 81.1 respectively for Singapore residents in 2021.</p>
<p><strong>(4) For PAs in the RCR and OCR, the largest or second largest age group is 30-34. However, the largest age group for PAs in the CCR is 45-49.</strong> This could be because residences for PAs in CCR are more expensive compared to other market segments and, generally, those aged 45-49 would have higher income and spending power compared to the younger age groups and be able to afford living in the CCR.</p>
<p><strong>(5) There are signs of a shrinking population, with the age groups within 0 to 19 smaller than the earlier generations, with the exception of those above 70.</strong> The top and bottom ends of the pyramid are the narrowest. It is understandable that there would be fewer people in the older age groups as they pass on. However, the pattern also shows that there are fewer young people and we could gradually see an aging population as the baby boomers move into their senior years. Unless the trends are reversed, the Millennials (children of the Baby Boomers) could be the last sizeable age group.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>