---
title: "Take-home Exercise 1"
author: "Tan Zhi Hao"
affiliation: 'SMU MITB'
---

# 1. Introduction

In this exercise, I created a 3x3 trellis view dashboard of the Age-Sex pyramid of Singapore's resident population for 9 of the 55 planning areas in Singapore for 2022. The data is a CSV file extracted from [Singstat website](https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data) named *'respopagesextod2022'.*

![*Figure 1: A snapshot of the dataset used*](images/image-1433414553.png)

I created a multi-select filter card for planning area so that we can choose whichever 9 planning areas we want to visualize.

# 2. Step-by-step procedure

+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| No. | Step                                                                                                                                                                                                                                                                                                               | Screenshot                                                                                 |
+=====+====================================================================================================================================================================================================================================================================================================================+============================================================================================+
| 1   | Load the excel file into Tableau. Drag '*respopagesextod2022*' worksheet into the main pane under Data Source.                                                                                                                                                                                                     | ![](images/image-1797384571.png)                                                           |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | *Note: No pre-cleaning of the data is necessary for this exercise, as the aggregations (e.g. sum of population count by gender, age group, planning area) will automatically be done by Tableau when the graphs are created. The data types will also not impact the final visualization (e.g. year is not used).* |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 2   | Create a new sheet. We start by creating just 1 Age-Sex pyramid for the whole resident population first.                                                                                                                                                                                                           | ![](images/image-1149882038.png){width="95"}                                               |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | Click on the down arrow as shown in red circle in the the screenshot and create calculated fields 'CountFemales' and 'CountMales' using the formula in the screenshot, by selecting                                                                                                                                | ![](images/image-786238496.png){width="173"}![](images/image-1228270616.png){width="176"}  |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 3   | Drag 'Age Group' into the Rows field and 'CountMales' and 'CountFemales' into the Columns field.                                                                                                                                                                                                                   | ![](images/image-1052230578.png)                                                           |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 4   | Right click on 'CountMales' on the horizontal axis and click 'Edit Axis'. Select 'Reversed' under Scale.                                                                                                                                                                                                           | ![](images/image-576089771.png)                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 5   | To filter only 9 planning areas, drag 'Planning Areas' to the Filters box. Randomly select 9 planning areas first.                                                                                                                                                                                                 | ![](images/image-328312277.png)                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 6   | Click on the arrow in the 'Planning areas' pill and select 'Show Filter' to display the filter card so that you can select any planning areas you wish to visualize later on.                                                                                                                                      | ![](images/image-305429127.png){width="161"}![](images/image-288257676.png){width="93"}    |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 7   | Under Marks box -\> 'Sum(CountFemales)', click on 'Color' and select the desired color to differentiate the sexes by color.                                                                                                                                                                                        | ![](images/image-1561715134.png)                                                           |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 8   | Next, we create the Trellis View. Create a new calculated field, 'Index' using the formula shown in the screenshot.                                                                                                                                                                                                | ![](images/image-315860669.png)                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 9   | Create a new parameter called '\# of Columns', choose Data Type 'Integer and input '3' under Current Value. This is because we want to have a 3 x 3 Trellis View.                                                                                                                                                  | ![](images/image-1149882038.png){width="117"}![](images/image-1784285514.png){width="212"} |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 10  | Create 2 new calculated fields, 'Rows' and 'Columns' using the formulas shown in the screenshot.                                                                                                                                                                                                                   | ![](images/image-1702854297.png){width="220"}![](images/image-1761891131.png){width="222"} |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | After creating these new variables, click on the down arrow when hovering over them on the left panel and convert to 'discrete'.                                                                                                                                                                                   |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 11  | Drag 'Rows' into the Rows field and 'Columns' into the Columns field. Drag 'Planning Area' into the Label box under Marks -\> All.                                                                                                                                                                                 | ![](images/image-1227004810.png)                                                           |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 12  | Click on the down arrow in the 'Columns' pill in the Columns field and select Compute Using -\> Planning Area.                                                                                                                                                                                                     | ![](images/image-1764637329.png){width="296"}                                              |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | Do the same for the 'Rows' pill in the Rows field.                                                                                                                                                                                                                                                                 |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 13  | Next, we move on to labeling the planning areas.                                                                                                                                                                                                                                                                   | ![](images/image-197780823.png){width="355"}                                               |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | First, un-check 'Show mark labels' by clicking on Label under Marks -\> All.                                                                                                                                                                                                                                       |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 14  | Create a new variable directly within the Columns field by double-clicking on an empty space within it. Type in 'AVG(0)'. Drag the newly created pill to the left of SUM(CountMales).                                                                                                                              | ![](images/image-1158170959.png)                                                           |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 15  | Under Marks -\> AGG(AVG(0)), change the type to 'Line' and the Opacity to 0%.                                                                                                                                                                                                                                      | ![](images/image-10513308.png){width="109"}                                                |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 16  | Drag 'Planning Area' to Label under Marks -\> AGG(AVG(0)). Select 'Line Ends' under Marks to label and un-check .Label end of line'.                                                                                                                                                                               | ![](images/image-507825079.png)                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 17  | Lastly, improve the aesthetics.                                                                                                                                                                                                                                                                                    | ![](images/image-1938844378.png){width="116"}                                              |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | Hide the headers on the top and left by right-clicking and de-selecting 'Show Header'.                                                                                                                                                                                                                             |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 18  | Change the order of Age Group by Data source order so that youngest Age Group is at the bottom and oldest at the top.                                                                                                                                                                                              | ![](images/image-1679864339.png){width="171"}![](images/image-949094237.png){width="182"}  |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 19  | Change the title of the sheet by clicking on the title field or changing it dynamically in the sheet name.                                                                                                                                                                                                         | ![](images/image-327183518.png)                                                            |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | Change the labels on the horizontal axis by right-clicking on them.                                                                                                                                                                                                                                                |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 20  | Add or delete information in the tooltip under Marks -\> All -\> Tooltip.                                                                                                                                                                                                                                          | ![](images/image-312910707.png)                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 21  | Create a new dashboard 'Dashboard 1', drag 'Age-Sex Pyramid for Selected Planning Areas in Singapore, 2022' into the pane.                                                                                                                                                                                         | ![](images/image-237145885.png)                                                            |
|     |                                                                                                                                                                                                                                                                                                                    |                                                                                            |
|     | In this case, as we only have one visualization in the dashboard, there is no need to add title text or make other changes.                                                                                                                                                                                        |                                                                                            |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+
| 22  | Adjust the size of charts, dashboard, etc. for better presentation. Extract data if necessary. Click Server -\> Tableau Public -\> Save to Tableau Public' for publishing.                                                                                                                                         | ![](images/image-1227294122.png)                                                           |
+-----+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------+

# 3. Write-up on Patterns observed from visualization
